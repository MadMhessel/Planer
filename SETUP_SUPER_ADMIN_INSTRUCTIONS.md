# üîê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–¥–∞—á–µ –ø—Ä–∞–≤ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## –¢–µ–∫—É—â–∏–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã

–í —Å–∏—Å—Ç–µ–º–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:
- `crazymhessel@gmail.com` ‚úÖ
- `terehin.alv@yandex.ru` ‚úÖ (–¥–æ–±–∞–≤–ª–µ–Ω)

## –°–ø–æ—Å–æ–±—ã –≤—ã–¥–∞—á–∏ –ø—Ä–∞–≤

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ email –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö Firestore (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

–ü—Ä–∞–≤–∞ —É–∂–µ –≤—ã–¥–∞–Ω—ã –¥–ª—è `terehin.alv@yandex.ru` —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª–∞ Firestore. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É, –µ—Å–ª–∏:
- Email –≤ —Ç–æ–∫–µ–Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `terehin.alv@yandex.ru`
- –ò–õ–ò –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–æ–ª–µ `isSuperAdmin: true`

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –ø–æ–ª–µ isSuperAdmin –≤ Firestore (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ `isSuperAdmin: true` –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Firestore.

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Firebase Console (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/) ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Firestore Database**
3. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é `users`
4. –ù–∞–π–¥–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email `terehin.alv@yandex.ru`
   - –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º—É
5. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ:
   - **–ü–æ–ª–µ:** `isSuperAdmin`
   - **–¢–∏–ø:** `boolean`
   - **–ó–Ω–∞—á–µ–Ω–∏–µ:** `true`
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω (`crazymhessel@gmail.com`)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```javascript
// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º Firebase –º–æ–¥—É–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
(async function() {
  try {
    const { db } = await import('./src/firebase.js');
    const { collection, query, where, getDocs, updateDoc, doc } = await import('firebase/firestore');
    
    const targetEmail = 'terehin.alv@yandex.ru';
    console.log('üîç –ò—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email:', targetEmail);
    
    // –ò—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
    const usersRef = collection(db, 'users');
    const q = query(usersRef, where('email', '==', targetEmail));
    const querySnapshot = await getDocs(q);
    
    if (querySnapshot.empty) {
      console.error('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å email', targetEmail, '–Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Firestore');
      console.log('üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—Ç—è –±—ã —Ä–∞–∑ –∑–∞–ª–æ–≥–∏–Ω–∏–ª—Å—è –≤ —Å–∏—Å—Ç–µ–º—É');
      return;
    }
    
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    for (const userDoc of querySnapshot.docs) {
      const userData = userDoc.data();
      console.log('üë§ –ù–∞–π–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', {
        id: userDoc.id,
        email: userData.email,
        displayName: userData.displayName,
        currentIsSuperAdmin: userData.isSuperAdmin
      });
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –ø–æ–ª–µ isSuperAdmin
      if (userData.isSuperAdmin === true) {
        console.log('‚úÖ –ü–æ–ª–µ isSuperAdmin —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ true –¥–ª—è', targetEmail);
        continue;
      }
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ–∫—É–º–µ–Ω—Ç
      try {
        await updateDoc(doc(db, 'users', userDoc.id), {
          isSuperAdmin: true
        });
        
        console.log('‚úÖ –ü–æ–ª–µ isSuperAdmin —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è', targetEmail);
        console.log('üîÑ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤');
      } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞:', error);
        console.error('üí° –í–æ–∑–º–æ–∂–Ω–æ, —É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞');
      }
    }
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞:', error);
  }
})();
```

4. –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏

#### –í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ Firebase CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Firebase CLI, –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
npm install -g firebase-tools

# –í–æ–π–¥–∏—Ç–µ –≤ Firebase
firebase login

# –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
firebase use <your-project-id>

# –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ userId –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Firebase Console
firebase firestore:update users/<userId> --data '{"isSuperAdmin":true}'
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

–ü–æ—Å–ª–µ –≤—ã–¥–∞—á–∏ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `terehin.alv@yandex.ru` –¥–æ–ª–∂–µ–Ω:

1. –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (–µ—Å–ª–∏ –±—ã–ª –∑–∞–ª–æ–≥–∏–Ω–µ–Ω)
2. –í–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞:
   - –ú–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ª—é–±–æ–≥–æ workspace
   - –ú–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ workspace
   - –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

## –ß—Ç–æ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `terehin.alv@yandex.ru` –≤ `src/constants/superAdmins.ts`
2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ Firestore –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç—Ç–æ–≥–æ email
3. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/setup-super-admin-by-email.js` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–¥–∞—á–∏ –ø—Ä–∞–≤

## –í–∞–∂–Ω–æ

- –ü—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ email –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö Firestore —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª
- –ü—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `isSuperAdmin` –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–∞–∂–µ –µ—Å–ª–∏ email –∏–∑–º–µ–Ω–∏—Ç—Å—è
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ —Å–ø–æ—Å–æ–±–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

---

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –Ω—É–∂–Ω–æ:

1. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Firestore:**
   - Firebase Console ‚Üí Firestore Database ‚Üí Rules
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `firestore.rules`
   - –í—Å—Ç–∞–≤–∏—Ç—å –∏ –Ω–∞–∂–∞—Ç—å "Publish"

2. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

3. **–í—ã–¥–∞—Ç—å –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ Firebase Console –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç** (—Å–º. –≤—ã—à–µ)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `terehin.alv@yandex.ru` –ø–æ–ª—É—á–∏—Ç –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

